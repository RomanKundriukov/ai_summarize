<?xml version="1.0" encoding="utf-8"?>
<Page
    x:Class="ai_summarize.View.HomePage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:ai_summarize.View"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:ui="using:CommunityToolkit.WinUI"
    xmlns:ollama="using:ai_summarize.Model"
    xmlns:_vm="using:ai_summarize.ViewModel"
    mc:Ignorable="d">

    <Page.Resources>

        <ui:AttachedDropShadow x:Key="CommonShadow"
                           CastTo="{x:Bind ShadowTarget}"
                           Offset="4" BlurRadius="16"
                           Opacity="0.35"/>

        <Style x:Key="ShadowedElementStyle" TargetType="FrameworkElement">
            <Setter Property="ui:Effects.Shadow" Value="{StaticResource CommonShadow}"/>
        </Style>

        <Style TargetType="Button" BasedOn="{StaticResource AccentButtonStyle}">
            <Setter Property="ui:Effects.Shadow" Value="{StaticResource CommonShadow}"/>
            <Setter Property="HorizontalAlignment" Value="Center"/>
        </Style>

        <Style TargetType="Border">
            <Setter Property="ui:Effects.Shadow" Value="{StaticResource CommonShadow}"/>
            <Setter Property="CornerRadius" Value="12"/>
        </Style>
    </Page.Resources>

    <Grid>
        <Border x:Name="ShadowTarget"/>
        <!-- Empf채nger f체r die Schatten -->

        <StackPanel Spacing="20" VerticalAlignment="Center" HorizontalAlignment="Center">
            <!-- Opt-in via Style -->
            <Border Style="{StaticResource ShadowedElementStyle}" Background="#1F000000" Padding="16">
                <TextBlock Text="Border mit CommonShadow"/>
            </Border>

            <!-- Button bekommt Shadow via implicit Button-Style -->
            <Button Content="Button mit CommonShadow"/>

            <!-- Auch andere Container -->
            <Grid Style="{StaticResource ShadowedElementStyle}" Background="#12000000" Padding="16">
                <TextBlock Text="Grid mit CommonShadow"/>
            </Grid>
        </StackPanel>
    </Grid>
    <!--<Grid>
        <Border x:Name="ShadowTarget"/>
        --><!-- Empf채nger f체r die Schatten --><!--

        <FlipView 
            MaxWidth="400" 
            Height="60" 
            BorderThickness="1" 
            ItemsSource="{x:Bind _vm.models, Mode=OneWay}">

            <FlipView.ItemTemplate>
                <DataTemplate x:DataType="ollama:OllamaModels">
                    <Grid>
                        <Border  Height="60" VerticalAlignment="Bottom">
                            <TextBlock Foreground="{ThemeResource TextFillColorPrimaryBrush}" Text="{x:Bind ModelName}" Padding="12,12" Style="{StaticResource TitleTextBlockStyle}" HorizontalAlignment="Center"/>
                        </Border>
                    </Grid>
                </DataTemplate>
            </FlipView.ItemTemplate>
        </FlipView>

        --><!--<StackPanel Spacing="20" VerticalAlignment="Center" HorizontalAlignment="Center">
            --><!-- Opt-in via Style --><!--
            <Border Style="{StaticResource ShadowedElementStyle}" Background="#1F000000" Padding="16">
                <TextBlock Text="Border mit CommonShadow"/>
            </Border>

            --><!-- Button bekommt Shadow via implicit Button-Style --><!--
            <Button Content="Button mit CommonShadow"/>

            --><!-- Auch andere Container --><!--
            <Grid Style="{StaticResource ShadowedElementStyle}" Background="#12000000" Padding="16">
                <TextBlock Text="Grid mit CommonShadow"/>
            </Grid>
        </StackPanel>--><!--
    </Grid>-->

</Page>
